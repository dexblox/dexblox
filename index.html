<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>DEXBLOX ‚Äî Topup Robux #1 Indonesia</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
/* ================================================================
   DESIGN TOKENS
================================================================ */
:root{
  --P:#2563EB;--P1:#1D4ED8;--P2:#EFF6FF;--P3:#DBEAFE;
  --R:#DC2626;--R2:#FEF2F2;
  --A:#D97706;--A2:#FFFBEB;--A3:#FDE68A;
  --G:#059669;--G2:#ECFDF5;
  --O:#EA580C;
  --ink:#0F172A;--sub:#475569;--dim:#94A3B8;
  --bd:#E2E8F0;--bd2:#CBD5E1;
  --bg:#F8FAFC;--bg2:#F1F5F9;--sur:#FFF;
  --r4:4px;--r8:8px;--r12:12px;--r16:16px;--r24:24px;--rFull:999px;
  --s0:0 1px 2px rgba(0,0,0,.05);
  --s1:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.04);
  --s2:0 4px 16px rgba(0,0,0,.08),0 2px 4px rgba(0,0,0,.04);
  --s3:0 12px 40px rgba(0,0,0,.1),0 4px 12px rgba(0,0,0,.06);
  --s4:0 24px 60px rgba(0,0,0,.14),0 8px 20px rgba(0,0,0,.08);
  --t:.18s;
}
*,::before,::after{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{-webkit-text-size-adjust:100%}
body{font-family:'Sora',system-ui,sans-serif;background:var(--bg);color:var(--ink);font-size:14px;line-height:1.5;min-height:100vh;overscroll-behavior:none}

/* ================================================================
   TOPBAR
================================================================ */
.nav{background:var(--sur);border-bottom:1px solid var(--bd);position:sticky;top:0;z-index:200;box-shadow:var(--s0)}
.nav-in{max-width:600px;margin:0 auto;height:54px;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
.logo{display:flex;align-items:center;gap:9px}
.logo-mark{width:32px;height:32px;background:linear-gradient(135deg,var(--P),var(--P1));border-radius:var(--r8);display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#fff;box-shadow:0 2px 8px rgba(37,99,235,.3);flex-shrink:0}
.logo-text{font-size:1.15rem;font-weight:800;color:var(--ink);letter-spacing:-.5px}
.logo-text em{color:var(--R);font-style:normal}
.nav-right{display:flex;align-items:center;gap:7px}
.live-pill{display:flex;align-items:center;gap:5px;background:var(--A2);border:1px solid var(--A3);color:#92400E;padding:4px 10px;border-radius:var(--rFull);font-size:.65rem;font-weight:700}
.live-dot{width:6px;height:6px;background:#EF4444;border-radius:50%;animation:blink 1.4s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.3;transform:scale(.75)}}
.btn-pill{background:var(--P2);border:none;color:var(--P);padding:7px 13px;border-radius:var(--rFull);font-size:.72rem;font-weight:700;cursor:pointer;transition:background var(--t);font-family:inherit}
.btn-pill:hover{background:var(--P3)}

/* ================================================================
   LAYOUT
================================================================ */
.wrap{max-width:600px;margin:0 auto;padding:14px 14px 52px}

/* ================================================================
   HERO
================================================================ */
.hero{background:linear-gradient(130deg,#1E3A8A 0%,#2563EB 60%,#3B82F6 100%);border-radius:var(--r16);padding:20px 18px 18px;margin-bottom:12px;color:#fff;position:relative;overflow:hidden}
.hero::before,.hero::after{content:'';position:absolute;border-radius:50%;pointer-events:none}
.hero::before{width:200px;height:200px;background:rgba(255,255,255,.05);top:-60px;right:-60px}
.hero::after{width:120px;height:120px;background:rgba(255,255,255,.04);bottom:-30px;left:35%}
.hero-top{display:flex;align-items:center;gap:12px;margin-bottom:15px;position:relative}
.hero-icon{width:46px;height:46px;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.2);border-radius:var(--r12);display:flex;align-items:center;justify-content:center;font-size:1.4rem;flex-shrink:0;backdrop-filter:blur(4px)}
.hero-badge{display:inline-flex;align-items:center;gap:4px;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.22);padding:2px 9px;border-radius:var(--rFull);font-size:.6rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}
.hero-title{font-size:1.2rem;font-weight:800;line-height:1.2;letter-spacing:-.3px}
.hero-sub{font-size:.76rem;opacity:.78;margin-top:2px}
.hero-stats{display:grid;grid-template-columns:repeat(4,1fr);border-top:1px solid rgba(255,255,255,.14);padding-top:13px;position:relative}
.hs{text-align:center;border-right:1px solid rgba(255,255,255,.1);padding:0 4px}
.hs:last-child{border-right:none}
.hs-n{font-size:1rem;font-weight:800}
.hs-l{font-size:.58rem;opacity:.6;text-transform:uppercase;letter-spacing:.5px;margin-top:1px}

/* ================================================================
   TRUST STRIP
================================================================ */
.trust{display:flex;gap:6px;overflow-x:auto;padding-bottom:2px;margin-bottom:12px;scrollbar-width:none}
.trust::-webkit-scrollbar{display:none}
.tc{display:flex;align-items:center;gap:5px;background:var(--sur);border:1px solid var(--bd);border-radius:var(--rFull);padding:5px 11px;white-space:nowrap;font-size:.67rem;font-weight:600;color:var(--sub);box-shadow:var(--s0);flex-shrink:0}

/* ================================================================
   TABS
================================================================ */
.tabs{background:var(--sur);border-radius:var(--r12);padding:4px;display:flex;gap:3px;margin-bottom:12px;box-shadow:var(--s1)}
.tab{flex:1;padding:9px 4px;border-radius:var(--r8);border:none;background:transparent;color:var(--dim);font-size:.76rem;font-weight:600;cursor:pointer;transition:all var(--t);font-family:inherit;white-space:nowrap}
.tab.on{background:var(--P);color:#fff;box-shadow:0 2px 8px rgba(37,99,235,.3)}
.tab:not(.on):hover{background:var(--bg2);color:var(--sub)}

/* ================================================================
   CARD / PANEL
================================================================ */
.card{background:var(--sur);border-radius:var(--r16);box-shadow:var(--s2);margin-bottom:12px;overflow:hidden;animation:fadein .22s ease}
@keyframes fadein{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}
.card.hidden{display:none}
.card-hd{padding:15px 18px 11px;border-bottom:1px solid var(--bd)}
.card-hd h2{font-size:.92rem;font-weight:700}
.card-hd p{font-size:.72rem;color:var(--dim);margin-top:2px}
.card-bd{padding:16px 18px}

/* ================================================================
   ALERT
================================================================ */
.alert{border-radius:var(--r8);padding:10px 12px;margin-bottom:14px;font-size:.77rem;line-height:1.65;display:flex;gap:8px;align-items:flex-start}
.ai{flex-shrink:0}
.a-warn{background:var(--A2);border:1px solid var(--A3);color:#78350F}
.a-info{background:var(--P2);border:1px solid var(--P3);color:#1E3A8A}
.a-suc{background:var(--G2);border:1px solid #A7F3D0;color:#065F46}

/* ================================================================
   FORM
================================================================ */
.frow{margin-bottom:13px}
.frow:last-of-type{margin-bottom:0}
.flbl{display:block;font-size:.67rem;font-weight:700;color:var(--dim);text-transform:uppercase;letter-spacing:.6px;margin-bottom:5px}
.fi{width:100%;border:1.5px solid var(--bd);border-radius:var(--r8);padding:10px 13px;font-size:.88rem;color:var(--ink);background:var(--sur);outline:none;transition:all var(--t);font-family:inherit;-webkit-appearance:none;appearance:none}
.fi:focus{border-color:var(--P);box-shadow:0 0 0 3px rgba(37,99,235,.1)}
.fi::placeholder{color:var(--bd2)}
select.fi{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%2394A3B8' d='M5.5 8l4.5 4.5L14.5 8'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;background-size:18px;padding-right:34px;cursor:pointer}
.fhint{font-size:.67rem;color:var(--dim);margin-top:4px;line-height:1.5}
.fntf{font-size:.7rem;margin-top:4px;min-height:16px;font-weight:600;display:flex;align-items:center;gap:4px}
.fntf.ok{color:var(--G)}
.fntf.er{color:var(--R)}

/* ================================================================
   USER SEARCH + SKELETON + RESULT CARD
================================================================ */
.usearch{display:flex;gap:8px;align-items:stretch}
.usearch .fi{flex:1}
.btn-cek{background:var(--P);color:#fff;border:none;padding:0 16px;border-radius:var(--r8);font-size:.8rem;font-weight:700;cursor:pointer;transition:background var(--t);font-family:inherit;white-space:nowrap;flex-shrink:0;height:auto}
.btn-cek:hover{background:var(--P1)}
/* skeleton */
.skel{display:none;align-items:center;gap:12px;background:var(--bg);border:1px solid var(--bd);border-radius:var(--r8);padding:12px 14px;margin-top:8px}
.sk-av{width:52px;height:52px;border-radius:50%;background:linear-gradient(90deg,var(--bg2) 25%,var(--sur) 50%,var(--bg2) 75%);background-size:200%;animation:sh 1.2s infinite;flex-shrink:0}
.sk-ln{flex:1}
.sk-l{height:9px;border-radius:var(--r4);background:linear-gradient(90deg,var(--bg2) 25%,var(--sur) 50%,var(--bg2) 75%);background-size:200%;animation:sh 1.2s infinite;margin-bottom:7px}
.sk-l:last-child{width:55%;margin-bottom:0}
@keyframes sh{0%{background-position:200% 0}100%{background-position:-200% 0}}
/* user card */
.ucard{display:none;align-items:center;gap:12px;background:var(--bg);border:1.5px solid var(--bd);border-radius:var(--r8);padding:12px 14px;margin-top:8px}
.ucard img{width:52px;height:52px;border-radius:50%;border:2.5px solid var(--P);object-fit:cover;flex-shrink:0}
.ucard-info{flex:1;min-width:0}
.ucard-name{font-size:.88rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ucard-id{font-size:.67rem;color:var(--dim);margin-top:1px}
.ucard-badge{display:inline-flex;align-items:center;gap:3px;background:var(--G2);color:var(--G);font-size:.6rem;font-weight:700;padding:2px 8px;border-radius:var(--rFull);margin-top:5px}

/* ================================================================
   HARGA BOX
================================================================ */
.harga-box{background:linear-gradient(135deg,#FFFBEB,#FEF3C7);border:1px solid var(--A3);border-radius:var(--r8);padding:11px 14px;display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
.harga-num{font-size:1.2rem;font-weight:800;color:var(--O)}
.harga-num small{font-size:.65rem;color:#92400E;font-weight:600;margin-left:3px}
.harga-tag{background:var(--A);color:#fff;font-size:.6rem;font-weight:700;padding:3px 10px;border-radius:var(--rFull);letter-spacing:.2px}

/* ================================================================
   PAKET
================================================================ */
.slbl{font-size:.67rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--dim);margin-bottom:7px}
.slbl-accent{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--O);margin:14px 0 7px;display:flex;align-items:center;gap:5px}
.pgrid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:6px}
.pcard{background:var(--bg);border:1.5px solid var(--bd);border-radius:var(--r8);padding:12px 10px;cursor:pointer;text-align:center;transition:all var(--t);position:relative;user-select:none;-webkit-user-select:none}
.pcard:active{transform:scale(.97)}
.pcard:hover{border-color:var(--P);background:var(--P2)}
.pcard.on{border-color:var(--P);background:var(--P2);box-shadow:0 0 0 3px rgba(37,99,235,.1)}
.pcard-rbx{font-size:.9rem;font-weight:800;color:var(--ink)}
.pcard-price{font-size:.72rem;color:var(--sub);margin-top:2px}
.pcard.on .pcard-rbx,.pcard.on .pcard-price{color:var(--P)}
.hot-tag{position:absolute;top:-1px;right:-1px;background:var(--O);color:#fff;font-size:.56rem;font-weight:700;padding:2px 7px;border-radius:0 var(--r8) 0 var(--r8)}
/* selected display */
.sel-box{background:var(--P2);border:1px solid var(--P3);border-radius:var(--r8);padding:10px 13px;margin:9px 0}
.sel-lbl{font-size:.6rem;color:#3B82F6;font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-bottom:3px}
.sel-val{font-size:.86rem;font-weight:700;color:var(--P)}

/* ================================================================
   PROMO
================================================================ */
.promo-row{display:flex;gap:7px}
.promo-row .fi{flex:1}
.btn-promo{background:var(--P);color:#fff;border:none;padding:0 15px;border-radius:var(--r8);font-weight:700;font-size:.78rem;cursor:pointer;font-family:inherit;transition:background var(--t);white-space:nowrap}
.btn-promo:hover{background:var(--P1)}

/* ================================================================
   PRIMARY BUTTON
================================================================ */
.btn-go{width:100%;padding:13px;background:var(--P);color:#fff;border:none;border-radius:var(--r8);font-size:.9rem;font-weight:700;cursor:pointer;transition:all var(--t);margin-top:14px;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:8px}
.btn-go:hover{background:var(--P1);box-shadow:0 6px 20px rgba(37,99,235,.28);transform:translateY(-1px)}
.btn-go:active{transform:none}
.btn-go.green{background:var(--G)}
.btn-go.green:hover{background:#047857;box-shadow:0 6px 20px rgba(5,150,105,.28)}

/* ================================================================
   TOP RANK
================================================================ */
.rank-card{background:var(--sur);border-radius:var(--r16);box-shadow:var(--s2);margin-bottom:12px;overflow:hidden}
.rank-hd{background:linear-gradient(130deg,#1E3A8A,#1D4ED8);padding:14px 18px}
.rank-hd h3{font-size:.9rem;font-weight:800;color:#fff}
.rank-hd p{font-size:.7rem;color:rgba(255,255,255,.72);margin-top:2px}
.rank-list{padding:4px 0}
.rank-row{display:flex;align-items:center;gap:12px;padding:10px 18px;border-bottom:1px solid var(--bd);transition:background var(--t)}
.rank-row:last-child{border-bottom:none}
.rank-row:hover{background:var(--bg)}
.rank-num{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:800;flex-shrink:0}
.rn1{background:linear-gradient(135deg,#FFD700,#FFA500);color:#fff;box-shadow:0 2px 6px rgba(255,165,0,.35)}
.rn2{background:linear-gradient(135deg,#9CA3AF,#6B7280);color:#fff}
.rn3{background:linear-gradient(135deg,#CD7F32,#92400E);color:#fff}
.rno{background:var(--bg2);color:var(--dim)}
.rank-av-wrap{position:relative;flex-shrink:0;width:40px;height:40px}
.rank-av{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid var(--bd);display:block}
.rank-av-sk{width:40px;height:40px;border-radius:50%;background:linear-gradient(90deg,var(--bg2) 25%,var(--sur) 50%,var(--bg2) 75%);background-size:200%;animation:sh 1.2s infinite}
.rank-crown{position:absolute;top:-7px;left:50%;transform:translateX(-50%);font-size:.68rem;line-height:1}
.rank-info{flex:1;min-width:0}
.rank-name{font-size:.85rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.rank-sub{font-size:.65rem;color:var(--dim);margin-top:1px}
.rank-rbx{font-size:.8rem;font-weight:700;color:var(--P);white-space:nowrap}

/* ================================================================
   REVIEWS ‚Äî MARQUEE
================================================================ */
.rev-wrap{margin-bottom:12px}
.rev-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:9px}
.rev-header h3{font-size:.86rem;font-weight:700}
.rev-header span{font-size:.68rem;color:var(--dim)}
.rev-outer{overflow:hidden;border-radius:var(--r12);mask-image:linear-gradient(90deg,transparent,#000 8%,#000 92%,transparent)}
.rev-track{display:flex;gap:10px;animation:marquee 30s linear infinite;width:max-content}
.rev-track:hover{animation-play-state:paused}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.rcard{background:var(--sur);border:1px solid var(--bd);border-radius:var(--r12);padding:14px;width:215px;flex-shrink:0;box-shadow:var(--s1)}
.rcard-stars{display:flex;gap:2px;margin-bottom:7px}
.rcard-stars span{font-size:.72rem}
.rcard-text{font-size:.76rem;color:var(--sub);line-height:1.55;margin-bottom:10px;font-style:italic}
.rcard-user{display:flex;align-items:center;gap:8px}
.rcard-av{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;color:#fff;flex-shrink:0}
.rcard-name{font-size:.76rem;font-weight:700}
.rcard-pkg{font-size:.63rem;color:var(--dim)}

/* ================================================================
   FOOTER
================================================================ */
footer{text-align:center;padding:20px 16px;color:var(--dim);font-size:.7rem;border-top:1px solid var(--bd);background:var(--sur)}
.f-logo{font-size:.92rem;font-weight:800;color:var(--P);margin-bottom:3px}
.f-logo em{color:var(--R);font-style:normal}

/* ================================================================
   FAB + TOAST
================================================================ */
#fab{position:fixed;bottom:20px;right:16px;width:40px;height:40px;border-radius:50%;background:var(--sur);border:1.5px solid var(--bd);color:var(--dim);font-size:1rem;cursor:pointer;z-index:99;box-shadow:var(--s3);transition:all var(--t)}
#fab:hover{color:var(--P);border-color:var(--P);box-shadow:0 4px 16px rgba(37,99,235,.2)}
.toast{position:fixed;bottom:22px;left:50%;z-index:999;transform:translateX(-50%) translateY(70px);background:var(--ink);color:#fff;padding:10px 20px;border-radius:var(--rFull);font-size:.78rem;font-weight:600;box-shadow:var(--s4);transition:transform .28s cubic-bezier(.34,1.56,.64,1);pointer-events:none;white-space:nowrap}
.toast.on{transform:translateX(-50%) translateY(0)}
.spinner{display:inline-block;width:12px;height:12px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite;vertical-align:middle;margin-right:6px}
@keyframes spin{to{transform:rotate(360deg)}}

/* ================================================================
   MODAL SYSTEM
================================================================ */
.modal{display:none;position:fixed;inset:0;z-index:300}
.modal.open{display:flex;align-items:flex-end;justify-content:center}
@media(min-width:520px){.modal.open{align-items:center;padding:20px}}
.mbackdrop{position:absolute;inset:0;background:rgba(15,23,42,.52);backdrop-filter:blur(4px)}
.msheet{position:relative;background:var(--sur);width:100%;max-width:560px;max-height:92vh;overflow-y:auto;border-radius:20px 20px 0 0;z-index:1;overscroll-behavior:contain}
@media(min-width:520px){.msheet{border-radius:var(--r16);max-height:90vh}}
.mhandle{width:32px;height:4px;background:var(--bd2);border-radius:2px;margin:10px auto 0}
.mhd{display:flex;align-items:center;justify-content:space-between;padding:14px 18px 11px;border-bottom:1px solid var(--bd)}
.mhd h3{font-size:.92rem;font-weight:700}
.btn-x{width:28px;height:28px;border-radius:50%;background:var(--bg);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--sub);font-size:.88rem;transition:background var(--t)}
.btn-x:hover{background:var(--bg2)}
.mbody{padding:16px 18px 30px}

/* ================================================================
   ORDER ID BOX
================================================================ */
.oid-box{background:linear-gradient(130deg,#1E40AF,#1D4ED8);border-radius:var(--r12);padding:15px;color:#fff;margin-bottom:14px;text-align:center}
.oid-lbl{font-size:.6rem;opacity:.72;text-transform:uppercase;letter-spacing:1px;margin-bottom:5px}
.oid-code{font-size:1.12rem;font-weight:800;letter-spacing:3px;font-variant-numeric:tabular-nums}
.btn-copy{margin-top:9px;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.22);color:#fff;padding:4px 14px;border-radius:var(--rFull);font-size:.68rem;font-weight:700;cursor:pointer;font-family:inherit;transition:background var(--t)}
.btn-copy:hover{background:rgba(255,255,255,.24)}

/* ================================================================
   ORDER SUMMARY TABLE
================================================================ */
.osum{background:var(--bg);border:1px solid var(--bd);border-radius:var(--r12);margin-bottom:14px;overflow:hidden}
.osum-row{display:flex;justify-content:space-between;align-items:center;padding:9px 14px;border-bottom:1px solid var(--bd)}
.osum-row:last-child{border-bottom:none;background:var(--P2);padding:11px 14px}
.ok{font-size:.76rem;color:var(--sub)}
.ov{font-size:.8rem;font-weight:700;color:var(--ink)}
.ov.blue{color:var(--P)}
.ov.fee{color:var(--O)}
.ov.total{font-size:.92rem;color:var(--P)}

/* ================================================================
   QRIS SECTION
================================================================ */
.qsec{text-align:center;margin-bottom:14px}
.qsec h4{font-size:.78rem;font-weight:700;color:var(--sub);margin-bottom:10px}
.qframe{display:inline-block;padding:10px;background:var(--sur);border:1.5px solid var(--bd);border-radius:var(--r8);box-shadow:var(--s1)}
.qframe img{width:166px;height:166px;display:block;border-radius:4px}
.qapps{display:flex;justify-content:center;gap:6px;margin-top:9px;flex-wrap:wrap}
.qapp{background:var(--bg2);border:1px solid var(--bd);border-radius:var(--rFull);padding:3px 11px;font-size:.66rem;font-weight:600;color:var(--sub)}
.due-box{background:linear-gradient(135deg,var(--A2),#FEF3C7);border:1px solid var(--A3);border-radius:var(--r8);padding:14px;text-align:center;margin:12px 0}
.due-lbl{font-size:.66rem;color:#92400E;font-weight:600;margin-bottom:4px}
.due-amt{font-size:1.55rem;font-weight:800;color:var(--O);line-height:1}
.due-note{font-size:.63rem;color:#A16207;margin-top:4px}

/* ================================================================
   UPLOAD ZONE ‚Äî PROFESSIONAL
================================================================ */
.up-area{margin-bottom:12px}
.up-lbl{font-size:.67rem;font-weight:700;color:var(--dim);text-transform:uppercase;letter-spacing:.6px;margin-bottom:6px;display:flex;align-items:center;gap:5px}
.up-req{color:var(--R);font-size:.6rem}
.upzone{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;border:2px dashed var(--bd2);border-radius:var(--r12);padding:20px 16px;background:var(--bg);cursor:pointer;transition:all var(--t);text-align:center;overflow:hidden}
.upzone input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.upzone:hover,.upzone:focus-within{border-color:var(--P);background:var(--P2)}
.upzone.ok{border-color:var(--G);border-style:solid;background:var(--G2)}
.upzone.ok:hover{border-color:var(--G);background:var(--G2)}
.up-ico{font-size:1.8rem;line-height:1;transition:transform var(--t)}
.upzone:hover .up-ico{transform:translateY(-2px)}
.up-title{font-size:.82rem;font-weight:700;color:var(--sub);margin-top:2px}
.upzone.ok .up-title{color:var(--G)}
.up-sub{font-size:.66rem;color:var(--dim)}
.up-preview{width:100%;max-height:200px;object-fit:contain;border-radius:var(--r8);margin-bottom:10px;display:none;box-shadow:var(--s1);border:1px solid var(--bd)}

/* ================================================================
   ACTION BUTTONS (modal bottom)
================================================================ */
.act-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:4px}
.btn-ok{background:var(--P);color:#fff;border:none;padding:12px;border-radius:var(--r8);font-size:.86rem;font-weight:700;cursor:pointer;font-family:inherit;transition:all var(--t);display:flex;align-items:center;justify-content:center;gap:5px}
.btn-ok:hover{background:var(--P1);box-shadow:0 4px 14px rgba(37,99,235,.28)}
.btn-ok:disabled{background:var(--bd2);cursor:not-allowed;box-shadow:none;transform:none}
.btn-cancel{background:var(--bg);color:var(--sub);border:1.5px solid var(--bd);padding:12px;border-radius:var(--r8);font-size:.86rem;font-weight:700;cursor:pointer;font-family:inherit;transition:background var(--t)}
.btn-cancel:hover{background:var(--bg2)}

/* ================================================================
   TRACK MODAL
================================================================ */
.track-row{display:flex;gap:8px;margin-bottom:14px}
.track-row .fi{flex:1;text-transform:uppercase}
.btn-track{background:var(--P);color:#fff;border:none;padding:0 16px;border-radius:var(--r8);font-weight:700;cursor:pointer;font-family:inherit;font-size:.78rem;transition:background var(--t)}
.btn-track:hover{background:var(--P1)}
.ocard{background:var(--bg);border:1.5px solid var(--bd);border-radius:var(--r12);padding:14px;margin-bottom:12px}
.ocard-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.ocard-id{font-size:.8rem;font-weight:800;color:var(--P);font-family:monospace}
.sbadge{padding:3px 10px;border-radius:var(--rFull);font-size:.63rem;font-weight:700}
.sp{background:var(--A2);color:#92400E}
.sd{background:var(--G2);color:var(--G)}
.ss{background:var(--P2);color:var(--P)}
.sc{background:var(--R2);color:var(--R)}
.ocard-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid var(--bd);font-size:.78rem}
.ocard-row:last-child{border-bottom:none;padding-bottom:0}
.ocard-k{color:var(--dim)}
.ocard-v{font-weight:700}
.empty{text-align:center;padding:26px 0;color:var(--dim)}
.empty-ico{font-size:1.7rem;margin-bottom:7px}
.recv-lbl{font-size:.67rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--dim);margin-bottom:7px}
.olist{display:flex;flex-direction:column;gap:6px;max-height:300px;overflow-y:auto}
.oitem{background:var(--bg);border:1px solid var(--bd);border-radius:var(--r8);padding:10px 12px;cursor:pointer;transition:all var(--t)}
.oitem:hover{border-color:var(--P);background:var(--P2)}
.oitem-r1{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px}
.oi-id{font-size:.73rem;font-weight:800;color:var(--P);font-family:monospace}
.oi-desc{font-size:.73rem;color:var(--sub)}
.oi-t{font-size:.63rem;color:var(--dim);margin-top:2px}

/* ================================================================
   ADMIN MODAL
================================================================ */
.admin-modal{display:none;position:fixed;inset:0;z-index:400}
.admin-modal.open{display:flex;align-items:center;justify-content:center;padding:20px}
.admin-bd{position:absolute;inset:0;background:rgba(15,23,42,.58);backdrop-filter:blur(5px)}
.admin-sheet{position:relative;background:var(--sur);width:100%;max-width:420px;max-height:92vh;overflow-y:auto;border-radius:var(--r16);z-index:1;box-shadow:var(--s4)}
.admin-hd{display:flex;align-items:center;gap:10px;padding:17px 18px 13px;border-bottom:1px solid var(--bd)}
.admin-hd-ico{width:34px;height:34px;background:var(--P2);border-radius:var(--r8);display:flex;align-items:center;justify-content:center;font-size:.95rem}
.admin-hd h3{font-size:.92rem;font-weight:700;flex:1}
.admin-body{padding:16px 18px 24px}
#adminTools{display:none}
#adminTools.vis{display:block}
.divr{height:1px;background:var(--bd);margin:14px 0}
.asec-lbl{font-size:.67rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--dim);margin-bottom:10px}
/* admin avatar box */
.admin-av-box{display:none;flex-direction:column;align-items:center;gap:5px;background:var(--bg);border:1px solid var(--bd);border-radius:var(--r12);padding:14px;margin-top:10px;text-align:center}
.admin-av-box.vis{display:flex}
.admin-av-img{width:80px;height:80px;border-radius:50%;border:3px solid var(--P);object-fit:cover;box-shadow:var(--s2)}
.admin-av-name{font-size:.88rem;font-weight:700;margin-top:4px}
.admin-av-id{font-size:.68rem;color:var(--dim)}
.btn-dl{display:inline-flex;align-items:center;gap:5px;background:var(--G2);color:var(--G);border:1px solid #A7F3D0;padding:5px 14px;border-radius:var(--rFull);font-size:.7rem;font-weight:700;cursor:pointer;font-family:inherit;margin-top:6px;transition:background var(--t)}
.btn-dl:hover{background:#D1FAE5}
/* admin order list */
.admin-olist{display:flex;flex-direction:column;gap:6px;max-height:180px;overflow-y:auto}
.ao-row{background:var(--bg);border:1px solid var(--bd);border-radius:var(--r8);padding:9px 12px;display:flex;justify-content:space-between;align-items:center}
.ao-id{font-size:.7rem;font-weight:700;color:var(--P);font-family:monospace}
.ao-desc{font-size:.67rem;color:var(--sub);margin-top:1px}
.btn-done{background:var(--P2);color:var(--P);border:1px solid var(--P3);padding:3px 9px;border-radius:var(--rFull);font-size:.63rem;font-weight:700;cursor:pointer;font-family:inherit;transition:background var(--t)}
.btn-done:hover{background:var(--P3)}

@media(max-width:360px){.pgrid{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>

<!-- ‚ïê‚ïê NAV ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="nav">
  <div class="nav-in">
    <div class="logo">
      <div class="logo-mark">üíé</div>
      <div class="logo-text">DEX<em>BLOX</em></div>
    </div>
    <div class="nav-right">
      <div class="live-pill"><div class="live-dot"></div>ONLINE</div>
      <button class="btn-pill" onclick="openTrack()">üì¶ Cek Pesanan</button>
    </div>
  </div>
</div>

<div class="wrap">

<!-- ‚ïê‚ïê HERO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="hero">
  <div class="hero-top">
    <div class="hero-icon">üíé</div>
    <div>
      <div class="hero-badge">‚ö° No.1 di Indonesia</div>
      <div class="hero-title">Topup Robux Termurah</div>
      <div class="hero-sub">Proses otomatis ¬∑ Aman ¬∑ Terpercaya sejak 2022</div>
    </div>
  </div>
  <div class="hero-stats">
    <div class="hs"><div class="hs-n">50K+</div><div class="hs-l">Transaksi</div></div>
    <div class="hs"><div class="hs-n">4.9‚òÖ</div><div class="hs-l">Rating</div></div>
    <div class="hs"><div class="hs-n">&lt;5m</div><div class="hs-l">Proses</div></div>
    <div class="hs"><div class="hs-n">24/7</div><div class="hs-l">Support</div></div>
  </div>
</div>

<!-- ‚ïê‚ïê TRUST STRIP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="trust">
  <div class="tc">‚úÖ Anti Banned</div>
  <div class="tc">üîí Pembayaran Aman</div>
  <div class="tc">‚ö° Proses Instan</div>
  <div class="tc">üí¨ CS 24/7</div>
  <div class="tc">üéØ 100% Berhasil</div>
  <div class="tc">üèÜ Terpercaya</div>
</div>

<!-- ‚ïê‚ïê TABS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tabs">
  <button class="tab on" id="t1" onclick="switchTab('p1')">üíé 5 Hari</button>
  <button class="tab" id="t2" onclick="switchTab('p2')">üîë Via Login</button>
  <button class="tab" id="t3" onclick="switchTab('p3')">üë• Komunitas</button>
</div>

<!-- ‚ïê‚ïê PANEL 5 HARI ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="card" id="p1">
  <div class="card-hd">
    <h2>Topup Robux 5 Hari</h2>
    <p>Via gamepass ¬∑ Masuk dalam 5 hari kerja</p>
  </div>
  <div class="card-bd">
    <div class="alert a-warn"><span class="ai">‚ö†Ô∏è</span><div>Pembelian via <strong>gamepass/private server</strong> berisiko banned jika dalam jumlah besar. Penjual tidak bertanggung jawab atas konsekuensi pada akun.</div></div>
    <div class="frow">
      <label class="flbl">Username Roblox</label>
      <div class="usearch">
        <input class="fi" type="text" id="u5" placeholder="Masukkan username..." autocomplete="off" spellcheck="false">
        <button class="btn-cek" id="bCek5">Cek</button>
      </div>
      <div class="fntf" id="n5"></div>
      <div class="skel" id="sk5"><div class="sk-av"></div><div class="sk-ln"><div class="sk-l"></div><div class="sk-l"></div></div></div>
      <div class="ucard" id="uc5">
        <img id="av5" src="" alt="">
        <div class="ucard-info">
          <div class="ucard-name" id="un5">‚Äî</div>
          <div class="ucard-id" id="ui5">‚Äî</div>
          <div class="ucard-badge">‚úì Akun Terverifikasi</div>
        </div>
      </div>
    </div>
    <div class="harga-box">
      <div>
        <div style="font-size:.63rem;color:#92400E;font-weight:600;margin-bottom:2px">Harga Hari Ini</div>
        <div class="harga-num">Rp <span id="hrgNum" data-h="13000">13.000</span><small>= 100 Robux</small></div>
      </div>
      <div class="harga-tag">Live Update</div>
    </div>
    <div class="slbl">Pilih Paket</div>
    <div class="pgrid" id="g5">
      <div class="pcard" data-v="100"><div class="pcard-rbx">100 Robux</div><div class="pcard-price">Rp 13.000</div></div>
      <div class="pcard" data-v="200"><div class="pcard-rbx">200 Robux</div><div class="pcard-price">Rp 26.000</div></div>
      <div class="pcard" data-v="500"><div class="pcard-rbx">500 Robux</div><div class="pcard-price">Rp 65.000</div><div class="hot-tag">Populer</div></div>
      <div class="pcard" data-v="1000"><div class="pcard-rbx">1000 Robux</div><div class="pcard-price">Rp 130.000</div></div>
    </div>
    <div class="fntf" id="nPkt"></div>
    <div class="frow" style="margin-top:12px">
      <label class="flbl">Custom Jumlah Robux</label>
      <input class="fi" type="number" id="cust" placeholder="Min. 100 Robux" min="100">
      <div class="fhint">Harga dihitung otomatis berdasarkan kurs hari ini</div>
    </div>
    <div class="sel-box" id="sel5" data-value="" data-harga=""><div class="sel-lbl">Rincian Paket Dipilih</div><div class="sel-val" id="selVal5">‚Äî Pilih paket di atas ‚Äî</div></div>
    <div class="frow" style="margin-top:12px">
      <label class="flbl">Kode Promo <span style="font-size:.6rem;font-weight:500;text-transform:none;letter-spacing:0;color:var(--dim)">(opsional)</span></label>
      <div class="promo-row">
        <input class="fi" type="text" id="promoInp" placeholder="Masukkan kode promo">
        <button class="btn-promo" id="bPromo">Pakai</button>
      </div>
      <div class="fntf" id="nPromo"></div>
    </div>
    <button class="btn-go" id="bGo5">‚ö° Lanjutkan Pembayaran</button>
  </div>
</div>

<!-- ‚ïê‚ïê PANEL LOGIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="card hidden" id="p2">
  <div class="card-hd">
    <h2>Topup Via Login</h2>
    <p>Robux langsung masuk ke akun ¬∑ Tanpa menunggu</p>
  </div>
  <div class="card-bd">
    <div class="alert a-info"><span class="ai">‚ÑπÔ∏è</span><div>Lakukan <strong>pembayaran terlebih dahulu</strong> via QRIS. Setelah konfirmasi, data akun akan dikirim ke admin via WhatsApp untuk diproses segera.</div></div>
    <div class="frow">
      <label class="flbl">Username Roblox</label>
      <div class="usearch">
        <input class="fi" type="text" id="uL" placeholder="Masukkan username..." autocomplete="off" spellcheck="false">
        <button class="btn-cek" id="bCekL">Cek</button>
      </div>
      <div class="fntf" id="nL"></div>
      <div class="skel" id="skL"><div class="sk-av"></div><div class="sk-ln"><div class="sk-l"></div><div class="sk-l"></div></div></div>
      <div class="ucard" id="ucL">
        <img id="avL" src="" alt="">
        <div class="ucard-info">
          <div class="ucard-name" id="unL">‚Äî</div>
          <div class="ucard-id" id="uiL">‚Äî</div>
          <div class="ucard-badge">‚úì Akun Terverifikasi</div>
        </div>
      </div>
    </div>
    <div class="slbl-accent">üëë Paket Premium</div>
    <div class="pgrid" id="gLP">
      <div class="pcard" data-t="premium" data-v="450" data-h="72500"><div class="pcard-rbx">450 Robux</div><div class="pcard-price">Rp 72.500</div></div>
      <div class="pcard" data-t="premium" data-v="1000" data-h="145000"><div class="pcard-rbx">1000 Robux</div><div class="pcard-price">Rp 145.000</div><div class="hot-tag">Populer</div></div>
      <div class="pcard" data-t="premium" data-v="2200" data-h="289000"><div class="pcard-rbx">2200 Robux</div><div class="pcard-price">Rp 289.000</div></div>
    </div>
    <div class="slbl-accent">üíé Paket Robux</div>
    <div class="pgrid" id="gLR">
      <div class="pcard" data-t="robux" data-v="240" data-h="49500"><div class="pcard-rbx">240 Robux</div><div class="pcard-price">Rp 49.500</div></div>
      <div class="pcard" data-t="robux" data-v="320" data-h="66000"><div class="pcard-rbx">320 Robux</div><div class="pcard-price">Rp 66.000</div></div>
      <div class="pcard" data-t="robux" data-v="500" data-h="72500"><div class="pcard-rbx">500 Robux</div><div class="pcard-price">Rp 72.500</div><div class="hot-tag">Populer</div></div>
      <div class="pcard" data-t="robux" data-v="1000" data-h="145000"><div class="pcard-rbx">1000 Robux</div><div class="pcard-price">Rp 145.000</div></div>
      <div class="pcard" data-t="robux" data-v="2000" data-h="289000"><div class="pcard-rbx">2000 Robux</div><div class="pcard-price">Rp 289.000</div></div>
    </div>
    <div class="sel-box" id="selL" style="margin-top:9px" data-value="" data-harga=""><div class="sel-lbl">Rincian Paket Dipilih</div><div class="sel-val" id="selValL">‚Äî Pilih paket di atas ‚Äî</div></div>
    <button class="btn-go" id="bGoL" style="margin-top:12px">‚ö° Lanjutkan Pembayaran</button>
  </div>
</div>

<!-- ‚ïê‚ïê PANEL KOMUNITAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="card hidden" id="p3">
  <div class="card-bd" style="text-align:center;padding:44px 20px">
    <div style="font-size:2.2rem;margin-bottom:11px">üöß</div>
    <div style="font-size:.9rem;font-weight:800;color:var(--O);letter-spacing:.5px;margin-bottom:6px">Coming Soon</div>
    <p style="color:var(--dim);font-size:.8rem">Fitur ini sedang dalam pengembangan.</p>
  </div>
</div>

<!-- ‚ïê‚ïê TOP RANK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="rank-card">
  <div class="rank-hd">
    <h3>üèÜ Top Pembeli DEXBLOX</h3>
    <p>Pelanggan terbaik bulan ini</p>
  </div>
  <div class="rank-list" id="rankList"></div>
</div>

<!-- ‚ïê‚ïê REVIEWS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="rev-wrap">
  <div class="rev-header">
    <h3>‚≠ê Ulasan Pelanggan</h3>
    <span>50.000+ puas</span>
  </div>
  <div class="rev-outer">
    <div class="rev-track" id="revTrack"></div>
  </div>
</div>

</div><!-- /wrap -->

<footer>
  <div class="f-logo">DEX<em>BLOX</em></div>
  <p>¬© <span id="yr"></span> DEXBLOX ¬∑ Bukan afiliasi resmi Roblox Corporation</p>
</footer>

<button id="fab" title="Admin Panel">‚öôÔ∏è</button>
<div class="toast" id="toast"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODAL: KONFIRMASI PEMBAYARAN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal" id="payModal">
  <div class="mbackdrop" onclick="closePay()"></div>
  <div class="msheet">
    <div class="mhandle"></div>
    <div class="mhd">
      <h3>üßæ Konfirmasi Pembayaran</h3>
      <button class="btn-x" onclick="closePay()">‚úï</button>
    </div>
    <div class="mbody">
      <div class="oid-box">
        <div class="oid-lbl">ID Pesanan</div>
        <div class="oid-code" id="mOid">DBX-XXXXXXX</div>
        <button class="btn-copy" onclick="copyOid()">üìã Salin ID</button>
      </div>
      <div class="osum">
        <div class="osum-row"><span class="ok">Username</span><span class="ov" id="mUser">‚Äî</span></div>
        <div class="osum-row"><span class="ok">Paket</span><span class="ov blue" id="mPaket">‚Äî</span></div>
        <div class="osum-row"><span class="ok">Jenis</span><span class="ov" id="mJenis">‚Äî</span></div>
        <div class="osum-row"><span class="ok">Harga Paket</span><span class="ov" id="mHarga">‚Äî</span></div>
        <div class="osum-row"><span class="ok">Biaya Admin QRIS</span><span class="ov fee">+ Rp 200</span></div>
        <div class="osum-row"><span class="ok" style="font-weight:700;color:var(--P)">Total Bayar</span><span class="ov total" id="mTotal">‚Äî</span></div>
      </div>
      <div class="qsec">
        <h4>üì± Scan QRIS untuk membayar</h4>
        <div class="qframe">
          <img id="qrImg" src="qris.png" alt="QRIS" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22166%22 height=%22166%22%3E%3Crect width=%22166%22 height=%22166%22 fill=%22%23f1f5f9%22 rx=%228%22/%3E%3Ctext x=%2283%22 y=%2276%22 font-size=%2210%22 text-anchor=%22middle%22 fill=%22%2394a3b8%22%3EQRIS tidak tersedia%3C/text%3E%3Ctext x=%2283%22 y=%2293%22 font-size=%2210%22 text-anchor=%22middle%22 fill=%22%2294a3b8%22%3EUpload file qris.png%3C/text%3E%3C/svg%3E'">
        </div>
        <div class="qapps">
          <span class="qapp">GoPay</span><span class="qapp">OVO</span>
          <span class="qapp">DANA</span><span class="qapp">ShopeePay</span><span class="qapp">m-BCA</span>
        </div>
      </div>
      <div class="due-box">
        <div class="due-lbl">Jumlah yang harus dibayar</div>
        <div class="due-amt" id="mDue">Rp ‚Äî</div>
        <div class="due-note">Sudah termasuk biaya admin QRIS Rp 200</div>
      </div>
      <!-- UPLOAD BUKTI -->
      <div class="up-area">
        <div class="up-lbl">Bukti Pembayaran <span class="up-req">* Wajib</span></div>
        <label class="upzone" id="upZ">
          <input type="file" id="upFile" accept="image/png,image/jpeg,image/jpg" onchange="handleUp(this,'upZ','upPrev','upIco','upTitle','upSub')">
          <div class="up-ico" id="upIco">üñºÔ∏è</div>
          <div class="up-title" id="upTitle">Klik atau seret foto bukti transfer ke sini</div>
          <div class="up-sub" id="upSub">Format JPG / PNG ¬∑ Maks 5 MB</div>
        </label>
        <img class="up-preview" id="upPrev" src="" alt="">
      </div>
      <div class="act-row">
        <button class="btn-ok" id="bPay">‚úÖ Sudah Membayar</button>
        <button class="btn-cancel" onclick="closePay()">Batal</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODAL: DATA AKUN (setelah bayar ‚Äî khusus via login)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal" id="ldModal">
  <div class="mbackdrop" onclick="closeLd()"></div>
  <div class="msheet">
    <div class="mhandle"></div>
    <div class="mhd">
      <h3>üîë Data Akun Roblox</h3>
      <button class="btn-x" onclick="closeLd()">‚úï</button>
    </div>
    <div class="mbody">
      <div class="alert a-suc"><span class="ai">‚úÖ</span><div>Pembayaran dikonfirmasi! Masukkan data akun Roblox untuk dikirim ke admin via WhatsApp agar segera diproses.</div></div>
      <div class="oid-box" style="margin-bottom:14px">
        <div class="oid-lbl">ID Pesanan Anda</div>
        <div class="oid-code" id="ldOid">‚Äî</div>
      </div>
      <div class="frow">
        <label class="flbl">Username Roblox</label>
        <input class="fi" id="ldUser" type="text" readonly style="background:var(--bg2);color:var(--sub)">
      </div>
      <div class="frow">
        <label class="flbl">Password Roblox</label>
        <input class="fi" id="ldPass" type="password" placeholder="Password akun Roblox kamu" autocomplete="new-password">
        <div class="fhint">üîí Hanya dikirim ke admin ¬∑ Tidak disimpan ¬∑ Dihapus setelah selesai</div>
      </div>
      <button class="btn-go green" id="bSendLd">üì≤ Kirim ke Admin via WhatsApp</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODAL: CEK PESANAN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal" id="trackModal">
  <div class="mbackdrop" onclick="closeTrack()"></div>
  <div class="msheet">
    <div class="mhandle"></div>
    <div class="mhd">
      <h3>üì¶ Lacak Pesanan</h3>
      <button class="btn-x" onclick="closeTrack()">‚úï</button>
    </div>
    <div class="mbody">
      <div class="track-row">
        <input class="fi" id="trackInp" placeholder="Contoh: DBX-A3KW9PJ">
        <button class="btn-track" onclick="doTrack()">Cari</button>
      </div>
      <div id="trackRes"></div>
      <div id="histBox">
        <div class="recv-lbl">Riwayat Sesi Ini</div>
        <div class="olist" id="olist">
          <div class="empty"><div class="empty-ico">üì≠</div><p style="font-size:.78rem">Belum ada pesanan sesi ini.</p></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     ADMIN MODAL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="admin-modal" id="adminModal">
  <div class="admin-bd" onclick="closeAdmin()"></div>
  <div class="admin-sheet">
    <div class="admin-hd">
      <div class="admin-hd-ico">‚öôÔ∏è</div>
      <h3>Admin Panel</h3>
      <button class="btn-x" onclick="closeAdmin()">‚úï</button>
    </div>
    <div class="admin-body">
      <div class="frow">
        <label class="flbl">Password Admin</label>
        <input class="fi" id="admPass" type="password" placeholder="Masukkan password">
      </div>
      <div style="display:flex;gap:8px">
        <button class="btn-ok" id="bAdmLogin" style="flex:1;padding:11px;border-radius:var(--r8)">Masuk</button>
        <button class="btn-cancel" onclick="closeAdmin()" style="flex:1;padding:11px">Tutup</button>
      </div>

      <div id="adminTools">
        <div class="divr"></div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div style="font-size:.82rem;font-weight:700">Admin Tools</div>
          <button id="bAdmOut" style="background:var(--bg2);border:1px solid var(--bd);padding:4px 12px;border-radius:var(--rFull);font-size:.67rem;font-weight:600;cursor:pointer;color:var(--sub);font-family:inherit">Logout</button>
        </div>

        <!-- CEK USER -->
        <div class="frow">
          <label class="flbl">Cek Username Roblox</label>
          <div class="usearch">
            <input class="fi" id="admUn" type="text" placeholder="Username Roblox..." autocomplete="off">
            <button class="btn-cek" id="bAdmCek">Cek</button>
          </div>
          <div class="fntf" id="admNtf"></div>
          <div class="skel" id="admSk"><div class="sk-av"></div><div class="sk-ln"><div class="sk-l"></div><div class="sk-l"></div></div></div>
          <div class="admin-av-box" id="admAvBox">
            <img class="admin-av-img" id="admAvImg" src="" alt="">
            <div class="admin-av-name" id="admAvName"></div>
            <div class="admin-av-id" id="admAvId"></div>
            <button class="btn-dl" onclick="dlAvatar()">‚¨áÔ∏è Download Avatar</button>
          </div>
        </div>

        <div class="divr"></div>
        <div class="asec-lbl">Kirim Konfirmasi ke Discord</div>
        <div class="frow">
          <label class="flbl">Username Roblox</label>
          <input class="fi" id="admUnConf" type="text" placeholder="Sama dengan cek user di atas">
        </div>
        <div class="frow">
          <label class="flbl">Jumlah Robux</label>
          <input class="fi" id="admRbx" type="text" placeholder="Contoh: 1000">
        </div>
        <div class="frow">
          <label class="flbl">Metode Bayar</label>
          <select class="fi" id="admMet">
            <option value="">-- Pilih Metode --</option>
            <option>QRIS</option><option>DANA</option><option>GoPay</option><option>OVO</option><option>ShopeePay</option>
          </select>
        </div>
        <div class="frow">
          <label class="flbl">ID Pesanan <span style="font-size:.6rem;font-weight:500;text-transform:none;letter-spacing:0;color:var(--dim)">(opsional)</span></label>
          <input class="fi" id="admOid" type="text" placeholder="DBX-XXXXXXX">
        </div>
        <div class="up-area">
          <div class="up-lbl">Upload Bukti Pembayaran <span class="up-req">* Wajib</span></div>
          <label class="upzone" id="admUpZ">
            <input type="file" id="admUpFile" accept="image/png,image/jpeg,image/jpg" onchange="handleUp(this,'admUpZ','admUpPrev','admUpIco','admUpTitle',null)">
            <div class="up-ico" id="admUpIco">üìé</div>
            <div class="up-title" id="admUpTitle">Klik untuk upload bukti pembayaran</div>
            <div class="up-sub">JPG / PNG ¬∑ Maks 5 MB</div>
          </label>
          <img class="up-preview" id="admUpPrev" src="" alt="">
        </div>
        <button class="btn-ok" id="bKirim" style="width:100%;padding:12px;border-radius:var(--r8)">üì§ Kirim ke Discord</button>

        <div class="divr"></div>
        <div class="asec-lbl">Semua Pesanan Sesi Ini</div>
        <div class="admin-olist" id="admOList"></div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     SCRIPT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
/* CONFIG */
const WA_NUM="6285362187740";
const WH_BUKTI="https://discord.com/api/webhooks/1474701584775643269/c4rhXs0f7Tc4Kk_uaiOBtNuLpftvZmXWccwvU7BwPTNTJ92To8IQKhN_gW0DtXx-UUpU";
const WH_CONF="https://discord.com/api/webhooks/1475771186964332595/8_cbT64G8_-LcZLgUCN0UiRJWrXQnAbkua1_NE06kNbpax8yUQsc-6uZnOeK2THmiLU7";
const FEE=200;
let hargaPer100=parseInt(document.getElementById("hrgNum").dataset.h);
document.getElementById("hrgNum").textContent=hargaPer100.toLocaleString("id-ID");
let promoOn=false,orders=[],admAvUrl="";
const $=id=>document.getElementById(id);
const rp=n=>"Rp "+n.toLocaleString("id-ID");
function genOid(){const c="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let s="DBX-";for(let i=0;i<7;i++)s+=c[Math.floor(Math.random()*c.length)];return s}
function fmtDate(d){return new Date(d).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}
function toast(msg,d=3200){const t=$("toast");t.textContent=msg;t.classList.add("on");setTimeout(()=>t.classList.remove("on"),d)}
function setNtf(id,msg,tp="er"){const el=$(id);if(!el)return;el.textContent=msg;el.className="fntf "+(tp==="ok"?"ok":"er")}
function showFlex(id){$(id).style.display="flex"}
function hide(id){if($(id))$(id).style.display="none"}

/* TABS */
function switchTab(id){
  ["p1","p2","p3"].forEach(p=>$(p).classList.add("hidden"));
  $(id).classList.remove("hidden");
  [["p1","t1"],["p2","t2"],["p3","t3"]].forEach(([p,t])=>$(t).classList.toggle("on",p===id));
}

/* USERNAME CHECK */
function setupAuto(inputId,ntfId,skId,ucId,avId,nameId,uidId,cb){
  const inp=$(inputId);
  inp.addEventListener("input",function(){
    const v=this.value.trim();
    hide(ucId);hide(skId);setNtf(ntfId,"");
    if(v.length<3)return;
    clearTimeout(inp._t);
    inp._t=setTimeout(()=>doCheck(v,ntfId,skId,ucId,avId,nameId,uidId,cb),650);
  });
}
async function doCheck(username,ntfId,skId,ucId,avId,nameId,uidId,cb){
  showFlex(skId);hide(ucId);setNtf(ntfId,"");
  try{
    const r=await fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username})});
    const d=await r.json();
    hide(skId);
    if(r.ok){
      if(nameId)$(nameId).textContent=d.name;
      if(uidId)$(uidId).textContent="User ID: "+d.userId;
      try{
        const ra=await fetch(`/api/avatar?userId=${d.userId}`);
        const da=await ra.json();
        if(ra.ok&&da.avatarUrl){if(avId)$(avId).src=da.avatarUrl;if(cb)cb(da.avatarUrl,d);}
      }catch(_){}
      if(ucId)showFlex(ucId);
      setNtf(ntfId,"‚úÖ Akun ditemukan: "+d.name,"ok");
    }else setNtf(ntfId,"‚ùå "+(d.error||"Username tidak ditemukan"));
  }catch(e){hide(skId);setNtf(ntfId,"‚ùå Gagal terhubung ke server")}
}
let avSrc5="",avSrcL="";
setupAuto("u5","n5","sk5","uc5","av5","un5","ui5",src=>{avSrc5=src});
setupAuto("uL","nL","skL","ucL","avL","unL","uiL",src=>{avSrcL=src});
$("bCek5").onclick=()=>{const v=$("u5").value.trim();if(!v){setNtf("n5","Masukkan username Roblox!");return;}doCheck(v,"n5","sk5","uc5","av5","un5","ui5",src=>{avSrc5=src})};
$("bCekL").onclick=()=>{const v=$("uL").value.trim();if(!v){setNtf("nL","Masukkan username Roblox!");return;}doCheck(v,"nL","skL","ucL","avL","unL","uiL",src=>{avSrcL=src})};

/* PAKET */
function bindPaket(gridId,selValId,selId,mode){
  document.querySelectorAll(`#${gridId} .pcard`).forEach(c=>{
    c.addEventListener("click",()=>{
      c.closest(".card-bd,.admin-body").querySelectorAll(".pcard").forEach(x=>x.classList.remove("on"));
      c.classList.add("on");
      const robux=parseInt(c.dataset.v);
      let harga;
      if(mode==="login"){
        harga=parseInt(c.dataset.h);
        if(promoOn)harga=Math.round(harga*.9);
        $(selId).dataset.value=robux;$(selId).dataset.harga=harga;$(selId).dataset.type=c.dataset.t||"robux";
        $(selValId).textContent=`${c.dataset.t==="premium"?"Premium":"Robux"}: ${robux} Robux ¬∑ ${rp(harga)}`;
      }else{
        harga=Math.round((robux/100)*hargaPer100);
        if(promoOn)harga=Math.round(harga*.9);
        const gp=Math.round((robux/100)*143);
        $(selId).dataset.value=robux;$(selId).dataset.harga=harga;
        $(selValId).textContent=`${robux} Robux ¬∑ ${rp(harga)} ¬∑ Gamepass #${gp}`;
      }
    });
  });
}
bindPaket("g5","selVal5","sel5","5hari");
bindPaket("gLP","selValL","selL","login");
bindPaket("gLR","selValL","selL","login");
$("cust").addEventListener("input",function(){
  const robux=parseInt(this.value);
  if(!robux||robux<100){$("selVal5").textContent="‚Äî Pilih paket di atas ‚Äî";return;}
  document.querySelectorAll("#g5 .pcard").forEach(c=>c.classList.remove("on"));
  let harga=Math.round((robux/100)*hargaPer100);
  if(promoOn)harga=Math.round(harga*.9);
  const gp=Math.round((robux/100)*143);
  $("sel5").dataset.value=robux;$("sel5").dataset.harga=harga;
  $("selVal5").textContent=`${robux} Robux ¬∑ ${rp(harga)} ¬∑ Gamepass #${gp}`;
});
$("bPromo").onclick=()=>{
  const v=$("promoInp").value.trim().toUpperCase();
  promoOn=v==="DEX10OFF";
  setNtf("nPromo",promoOn?"‚úÖ Kode valid! Diskon 10% aktif.":"‚ùå Kode promo tidak valid.",promoOn?"ok":"er");
};

/* UPLOAD HANDLER */
function handleUp(inp,zoneId,prevId,icoId,titleId,subId){
  const file=inp.files[0];if(!file)return;
  if(file.size>5*1024*1024){toast("‚ö†Ô∏è File terlalu besar! Maks 5MB");inp.value="";return;}
  if(!["image/png","image/jpeg","image/jpg"].includes(file.type)){toast("‚ö†Ô∏è Format harus JPG/PNG");inp.value="";return;}
  const r=new FileReader();
  r.onload=e=>{
    $(prevId).src=e.target.result;$(prevId).style.display="block";
    $(zoneId).classList.add("ok");
    $(icoId).textContent="‚úÖ";$(titleId).textContent=file.name;
    if(subId)$(subId).textContent=(file.size/1024).toFixed(0)+" KB ¬∑ Siap dikirim";
  };
  r.readAsDataURL(file);
}
function resetUp(fileId,zoneId,prevId,icoId,titleId,subId){
  $(fileId).value="";$(zoneId).classList.remove("ok");
  $(prevId).style.display="none";$(prevId).src="";
  $(icoId).textContent="üñºÔ∏è";$(titleId).textContent="Klik atau seret foto bukti transfer ke sini";
  if(subId)$(subId).textContent="Format JPG / PNG ¬∑ Maks 5 MB";
}

/* OPEN PAY MODAL */
function openPay(username,paket,robux,harga,jenis,avSrc,isLogin){
  const oid=genOid(),total=harga+FEE;
  $("mOid").textContent=oid;$("mUser").textContent=username;$("mPaket").textContent=paket;
  $("mJenis").textContent=jenis==="5hari"?"Robux 5 Hari":"Via Login";
  $("mHarga").textContent=rp(harga);$("mTotal").textContent=rp(total);$("mDue").textContent=rp(total);
  resetUp("upFile","upZ","upPrev","upIco","upTitle","upSub");
  const order={id:oid,username,paket,robux,harga,total,jenis:jenis==="5hari"?"Robux 5 Hari":"Via Login",status:"pending",avSrc,time:new Date().toISOString(),isLogin};
  orders.unshift(order);
  $("bPay").textContent="‚úÖ Sudah Membayar";$("bPay").disabled=false;
  $("bPay").onclick=async()=>{
    const file=$("upFile").files[0];
    if(!file){toast("‚ö†Ô∏è Upload bukti pembayaran terlebih dahulu!");return;}
    $("bPay").innerHTML=`<span class="spinner"></span>Mengirim...`;$("bPay").disabled=true;
    await uploadDiscord(file,username,robux,harga,total,oid,"QRIS");
    const idx=orders.findIndex(x=>x.id===oid);if(idx>=0)orders[idx].status="paid";
    $("bPay").textContent="‚úÖ Sudah Membayar";$("bPay").disabled=false;
    closePay();
    if(isLogin){$("ldOid").textContent=oid;$("ldUser").value=username;$("ldPass").value="";openModal("ldModal");}
    else sendWA(username,robux,total,oid);
  };
  openModal("payModal");
}
function closePay(){closeModal("payModal")}

$("bGo5").onclick=()=>{
  const u=$("u5").value.trim(),si=$("sel5"),robux=parseInt(si.dataset.value||0),harga=parseInt(si.dataset.harga||0),paket=$("selVal5").textContent;
  if(!u){setNtf("n5","Masukkan username Roblox!");return;}
  if(!robux){setNtf("nPkt","Pilih atau masukkan paket Robux!");return;}
  openPay(u,paket,robux,harga,"5hari",avSrc5,false);
};
$("bGoL").onclick=()=>{
  const u=$("uL").value.trim(),si=$("selL"),robux=parseInt(si.dataset.value||0),harga=parseInt(si.dataset.harga||0),paket=$("selValL").textContent;
  if(!u){setNtf("nL","Masukkan username Roblox!");return;}
  if(!robux){setNtf("nL","Pilih paket terlebih dahulu!");return;}
  openPay(u,paket,robux,harga,"login",avSrcL,true);
};

/* LOGIN DATA MODAL */
$("bSendLd").onclick=()=>{
  const pass=$("ldPass").value,user=$("ldUser").value,oid=$("ldOid").textContent;
  if(!pass){toast("‚ö†Ô∏è Masukkan password Roblox!");return;}
  const o=orders.find(x=>x.id===oid);
  const msg=[`Halo Min DEXBLOX! üîë Saya sudah bayar.`,``,`üìã ID Pesanan: *${oid}*`,`üë§ Username: *${user}*`,`üîí Password: *${pass}*`,`üíé Paket: ${o?o.paket:"-"}`,`üí∞ Total Dibayar: ${o?rp(o.total):"-"}`,`üïê Waktu: ${new Date().toLocaleString("id-ID")}`,``,`_Mohon segera diproses. Terima kasih!_`].join("\n");
  window.open(`https://wa.me/${WA_NUM}?text=${encodeURIComponent(msg)}`,"_blank");
  closeLd();toast("‚úÖ Data dikirim ke admin via WhatsApp!");
};
function closeLd(){closeModal("ldModal")}

/* DISCORD UPLOAD */
async function uploadDiscord(file,username,robux,harga,total,oid,metode){
  const fd=new FormData();
  const msg=[`# üí≥ Bukti Pembayaran Baru`,``,`üìã **ID Pesanan:** \`${oid}\``,`üë§ **Username:** ${username}`,`üíé **Robux:** ${robux} Robux`,`üí∞ **Harga Paket:** ${rp(harga)}`,`üí∏ **Biaya Admin QRIS:** Rp 200`,`üí∞ **Total Bayar:** ${rp(total)}`,`üè¶ **Metode:** ${metode}`,`üïê **Waktu:** ${new Date().toLocaleString("id-ID")}`].join("\n");
  fd.append("file",file,file.name);fd.append("payload_json",JSON.stringify({content:msg}));
  try{await fetch(WH_BUKTI,{method:"POST",body:fd})}catch(e){console.error(e)}
}

/* WA */
function sendWA(username,robux,total,oid){
  const msg=[`Halo Min DEXBLOX! Saya sudah bayar üéÆ`,``,`üìã ID Pesanan: *${oid}*`,`üë§ Username: *${username}*`,`üíé Robux: ${robux}`,`üí∞ Total: ${rp(total)}`,`üïê Waktu: ${new Date().toLocaleString("id-ID")}`,``,`_Mohon segera diproses ya min!_`].join("\n");
  window.open(`https://wa.me/${WA_NUM}?text=${encodeURIComponent(msg)}`,"_blank");
}

/* COPY OID */
function copyOid(){
  const id=$("mOid").textContent;
  if(navigator.clipboard)navigator.clipboard.writeText(id).then(()=>toast("üìã "+id+" disalin!"));
  else{const e=document.createElement("textarea");e.value=id;document.body.appendChild(e);e.select();document.execCommand("copy");document.body.removeChild(e);toast("üìã "+id+" disalin!")}
}

/* MODAL UTILS */
function openModal(id){$(id).classList.add("open")}
function closeModal(id){$(id).classList.remove("open")}
function openTrack(){openModal("trackModal");renderOList()}
function closeTrack(){closeModal("trackModal")}
function closeAdmin(){closeModal("adminModal")}

/* TRACK */
function sClass(s){return {pending:"sp",paid:"sd",done:"ss",cancel:"sc"}[s]||"sp"}
function sLabel(s){return {pending:"‚è≥ Menunggu",paid:"‚úÖ Dibayar",done:"üéâ Selesai",cancel:"‚ùå Batal"}[s]||s}
function renderOCard(o){return `<div class="ocard"><div class="ocard-top"><span class="ocard-id">${o.id}</span><span class="sbadge ${sClass(o.status)}">${sLabel(o.status)}</span></div><div class="ocard-row"><span class="ocard-k">Username</span><span class="ocard-v">${o.username}</span></div><div class="ocard-row"><span class="ocard-k">Paket</span><span class="ocard-v">${o.paket}</span></div><div class="ocard-row"><span class="ocard-k">Jenis</span><span class="ocard-v">${o.jenis}</span></div><div class="ocard-row"><span class="ocard-k">Harga Paket</span><span class="ocard-v">${rp(o.harga)}</span></div><div class="ocard-row"><span class="ocard-k">Biaya QRIS</span><span class="ocard-v" style="color:var(--O)">+ Rp 200</span></div><div class="ocard-row"><span class="ocard-k">Total Bayar</span><span class="ocard-v" style="color:var(--P)">${rp(o.total)}</span></div><div class="ocard-row"><span class="ocard-k">Waktu</span><span class="ocard-v">${fmtDate(o.time)}</span></div></div>`}
function renderOList(){
  const el=$("olist");
  if(!orders.length){el.innerHTML=`<div class="empty"><div class="empty-ico">üì≠</div><p style="font-size:.78rem">Belum ada pesanan sesi ini.</p></div>`;return;}
  el.innerHTML=orders.slice(0,12).map(o=>`<div class="oitem" onclick="showFromList('${o.id}')"><div class="oitem-r1"><span class="oi-id">${o.id}</span><span class="sbadge ${sClass(o.status)}">${sLabel(o.status)}</span></div><div class="oi-desc">${o.username} ¬∑ ${o.paket}</div><div class="oi-t">${fmtDate(o.time)}</div></div>`).join("");
}
function showFromList(id){const o=orders.find(x=>x.id===id);if(!o)return;$("trackInp").value=id;$("trackRes").innerHTML=renderOCard(o);$("trackRes").style.display="block"}
function doTrack(){
  const q=$("trackInp").value.trim().toUpperCase();
  if(!q){toast("Masukkan ID pesanan");return;}
  const o=orders.find(x=>x.id===q);
  if(o){$("trackRes").innerHTML=renderOCard(o);$("trackRes").style.display="block"}
  else{$("trackRes").innerHTML=`<div class="empty"><div class="empty-ico">üîç</div><p style="font-size:.78rem">Pesanan <strong>${q}</strong> tidak ditemukan.<br><span style="color:var(--dim)">Coba hubungi CS via WhatsApp.</span></p></div>`;$("trackRes").style.display="block"}
}
$("trackInp").addEventListener("input",function(){this.value=this.value.toUpperCase()});

/* ADMIN */
$("fab").onclick=()=>openModal("adminModal");
$("bAdmLogin").onclick=()=>{
  if($("admPass").value==="54321"){$("adminTools").classList.add("vis");renderAdmOrders();}
  else toast("‚ùå Password salah!");
};
$("bAdmOut").onclick=()=>{$("adminTools").classList.remove("vis");$("admPass").value=""};

/* Admin: auto-check username with large avatar */
$("admUn").addEventListener("input",function(){
  const v=this.value.trim();
  $("admAvBox").classList.remove("vis");hide("admSk");setNtf("admNtf","");
  if(v.length<3)return;
  clearTimeout(this._t);
  this._t=setTimeout(()=>doAdmCheck(v),650);
});
$("bAdmCek").onclick=()=>{
  const v=$("admUn").value.trim();if(!v){setNtf("admNtf","Masukkan username!");return;}
  doAdmCheck(v);
};
async function doAdmCheck(username){
  showFlex("admSk");$("admAvBox").classList.remove("vis");setNtf("admNtf","");
  try{
    const r=await fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username})});
    const d=await r.json();
    hide("admSk");
    if(r.ok){
      setNtf("admNtf","‚úÖ "+d.name,"ok");
      $("admAvName").textContent=d.name;$("admAvId").textContent="User ID: "+d.userId;
      $("admUnConf").value=username;
      try{
        const ra=await fetch(`/api/avatar?userId=${d.userId}`);
        const da=await ra.json();
        if(ra.ok&&da.avatarUrl){admAvUrl=da.avatarUrl;$("admAvImg").src=da.avatarUrl;$("admAvBox").classList.add("vis")}
      }catch(_){}
    }else setNtf("admNtf","‚ùå "+(d.error||"Tidak ditemukan"));
  }catch(e){hide("admSk");setNtf("admNtf","‚ùå Gagal terhubung")}
}
function dlAvatar(){
  if(!admAvUrl){toast("Belum ada avatar");return;}
  const un=$("admUn").value||"roblox";
  const a=document.createElement("a");a.href=admAvUrl;a.download=`avatar-${un}.png`;a.target="_blank";document.body.appendChild(a);a.click();document.body.removeChild(a);
  toast("‚¨áÔ∏è Mengunduh avatar...");
}

/* Admin: kirim ke Discord */
$("bKirim").onclick=async()=>{
  const username=$("admUnConf").value.trim()||$("admUn").value.trim();
  const robux=$("admRbx").value.trim();
  const metode=$("admMet").value;
  const oid=$("admOid").value.trim()||"-";
  const file=$("admUpFile").files[0];
  if(!username||!robux||!metode){toast("‚ö†Ô∏è Lengkapi semua data!");return;}
  if(!file){toast("‚ö†Ô∏è Upload bukti pembayaran!");return;}
  $("bKirim").innerHTML=`<span class="spinner"></span>Mengirim...`;$("bKirim").disabled=true;
  const now=new Date(),est=new Date(now.getTime()+3*864e5);
  const msg=[
    `# ‚úÖ Konfirmasi Topup ‚Äî Admin DEXBLOX`,``,
    `üìã **ID Pesanan:** \`${oid}\``,
    `üë§ **Username:** ${username}`,
    `üíé **Robux:** ${robux} Robux`,
    `üè¶ **Metode:** ${metode}`,
    `üïê **Waktu:** ${now.toLocaleString("id-ID")}`,
    `‚è±Ô∏è **Est. Selesai:** ${est.toLocaleString("id-ID")}`,
    ``,`_Dikonfirmasi oleh admin DEXBLOX_`
  ].join("\n");
  const fd=new FormData();
  fd.append("file",file,file.name);
  fd.append("payload_json",JSON.stringify({content:msg}));
  try{await fetch(WH_CONF,{method:"POST",body:fd});toast("‚úÖ Berhasil dikirim ke Discord!")}
  catch(e){toast("‚ùå Gagal kirim ke Discord")}
  $("bKirim").textContent="üì§ Kirim ke Discord";$("bKirim").disabled=false;
};

function renderAdmOrders(){
  const el=$("admOList");
  if(!orders.length){el.innerHTML=`<p style="font-size:.75rem;color:var(--dim);text-align:center;padding:12px">Belum ada pesanan.</p>`;return;}
  el.innerHTML=orders.map(o=>`<div class="ao-row"><div><div class="ao-id">${o.id}</div><div class="ao-desc">${o.username} ¬∑ ${o.robux} R$ ¬∑ ${o.jenis}</div></div><div style="display:flex;align-items:center;gap:5px"><span class="sbadge ${sClass(o.status)}">${sLabel(o.status)}</span>${o.status==="paid"?`<button class="btn-done" onclick="markDone('${o.id}')">Selesai</button>`:""}</div></div>`).join("");
}
function markDone(id){const o=orders.find(x=>x.id===id);if(o){o.status="done";renderAdmOrders();toast("‚úÖ Pesanan "+id+" selesai!")}}

/* TOP RANK */
const TOPLIST=[
  {rank:1,username:"letdaisreal",display:"l**d**s**al",rbx:45200,tx:38},
  {rank:2,username:"rioSlebew52",display:"r**S**b*w52",rbx:38750,tx:31},
  {rank:3,username:"Kaen3v",display:"K**n3v",rbx:29300,tx:25},
  {rank:4,username:"menglistecu",display:"m**g**s**cu",rbx:21100,tx:19},
  {rank:5,username:"Roroemess",display:"R**o**ss",rbx:17640,tx:15},
];
async function loadRank(){
  const cont=$("rankList");
  cont.innerHTML=TOPLIST.map((p,i)=>{
    const nc=["rn1","rn2","rn3","rno","rno"][i];
    const crown=i===0?`<div class="rank-crown">üëë</div>`:"";
    return `<div class="rank-row" id="rr${i}">
      <div class="rank-num ${nc}">${p.rank}</div>
      <div class="rank-av-wrap">${crown}<div class="rank-av-sk" id="ras${i}"></div></div>
      <div class="rank-info"><div class="rank-name">${p.display}</div><div class="rank-sub">${p.tx} transaksi</div></div>
      <div class="rank-rbx">${p.rbx.toLocaleString("id-ID")} R$</div>
    </div>`;
  }).join("");
  for(let i=0;i<TOPLIST.length;i++){
    const p=TOPLIST[i];
    try{
      const r=await fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p.username})});
      const d=await r.json();
      if(r.ok&&d.userId){
        const ra=await fetch(`/api/avatar?userId=${d.userId}`);
        const da=await ra.json();
        if(ra.ok&&da.avatarUrl){
          const skel=$(`ras${i}`);
          const img=document.createElement("img");
          img.className="rank-av";img.src=da.avatarUrl;img.alt=p.display;
          skel.replaceWith(img);
        }
      }
    }catch(_){}
  }
}

/* REVIEWS */
const REVIEWS=[
  {stars:5,text:"Proses cepet banget, beli jam 2 pagi langsung masuk dalam 5 menit!",name:"Arya P.",pkg:"1000 Robux",color:"#2563EB"},
  {stars:5,text:"Harga paling murah se-Indo, udah cek kemana-mana. Langsung jadi langganan!",name:"Sinta D.",pkg:"450 Robux",color:"#059669"},
  {stars:5,text:"CS ramah banget, masalah selesai dalam hitungan menit. Sangat recommended!",name:"Rizky F.",pkg:"2200 Robux",color:"#EA580C"},
  {stars:5,text:"Bayar DANA, kurang 5 menit langsung bisa dipakai beli item. TOP banget!",name:"Melisa P.",pkg:"800 Robux",color:"#7C3AED"},
  {stars:5,text:"Udah 3 tahun langganan, ga pernah kecewa sama sekali. Terbaik di Indo!",name:"Farhan A.",pkg:"4500 Robux",color:"#DC2626"},
  {stars:5,text:"Paling aman dan terpercaya! Ga ada yang nandingin harganya di internet.",name:"Nadia S.",pkg:"600 Robux",color:"#0891B2"},
  {stars:5,text:"Topup malam-malam tetep diproses cepet, adminnya responsif 24 jam nonstop!",name:"Kevin R.",pkg:"1700 Robux",color:"#D97706"},
  {stars:5,text:"Promo kodenya beneran kerja, hemat 10%! Selalu pake DEXBLOX sekarang.",name:"Putri M.",pkg:"320 Robux",color:"#BE185D"},
];
function buildReviews(){
  const track=$("revTrack");
  const all=[...REVIEWS,...REVIEWS];
  track.innerHTML=all.map(r=>`<div class="rcard">
    <div class="rcard-stars">${"‚òÖ".repeat(r.stars).split("").map(s=>`<span style="color:#F59E0B">${s}</span>`).join("")}${"‚òÜ".repeat(5-r.stars).split("").map(s=>`<span style="color:#E2E8F0">${s}</span>`).join("")}</div>
    <div class="rcard-text">"${r.text}"</div>
    <div class="rcard-user">
      <div class="rcard-av" style="background:${r.color}">${r.name[0]}</div>
      <div><div class="rcard-name">${r.name}</div><div class="rcard-pkg">${r.pkg}</div></div>
    </div>
  </div>`).join("");
}

/* INIT */
$("yr").textContent=new Date().getFullYear();
loadRank();
buildReviews();
</script>
</body>
</html>
